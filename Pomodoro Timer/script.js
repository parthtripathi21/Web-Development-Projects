let timeLeft;let timer;let isRunning=!1;let isWorkTime=!0;const minutesDisplay=document.getElementById("minutes");const secondsDisplay=document.getElementById("seconds");const progressBar=document.getElementById("progress-bar");const statusText=document.getElementById("status");const workInput=document.getElementById("work-time");const breakInput=document.getElementById("break-time");document.getElementById("start").addEventListener("click",startTimer);document.getElementById("pause").addEventListener("click",pauseTimer);document.getElementById("reset").addEventListener("click",resetTimer);function startTimer(){if(!isRunning){isRunning=!0;let minutes=isWorkTime?parseInt(workInput.value):parseInt(breakInput.value);if(!timeLeft)timeLeft=minutes*60;timer=setInterval(updateTimer,1000)}}
function pauseTimer(){isRunning=!1;clearInterval(timer)}
function resetTimer(){isRunning=!1;clearInterval(timer);isWorkTime=!0;timeLeft=parseInt(workInput.value)*60;updateDisplay(timeLeft);progressBar.style.width="0%";statusText.textContent="Status: Work"}
function updateTimer(){if(timeLeft>0){timeLeft--;updateDisplay(timeLeft);updateProgressBar()}else{clearInterval(timer);isRunning=!1;playNotification();isWorkTime=!isWorkTime;statusText.textContent=isWorkTime?"Status: Work":"Status: Break";timeLeft=(isWorkTime?parseInt(workInput.value):parseInt(breakInput.value))*60;startTimer()}}
function updateDisplay(seconds){let minutes=Math.floor(seconds/60);let sec=seconds%60;minutesDisplay.textContent=minutes.toString().padStart(2,"0");secondsDisplay.textContent=sec.toString().padStart(2,"0")}
function updateProgressBar(){let totalTime=isWorkTime?parseInt(workInput.value)*60:parseInt(breakInput.value)*60;let progress=((totalTime-timeLeft)/totalTime)*100;progressBar.style.width=progress+"%"}
function playNotification(){if(Notification.permission==="granted"){new Notification(isWorkTime?"Back to Work! ðŸ’ª":"Take a Break! â˜•")}else if(Notification.permission!=="denied"){Notification.requestPermission().then(permission=>{if(permission==="granted"){new Notification(isWorkTime?"Back to Work! ðŸ’ª":"Take a Break! â˜•")}})}}
