let currentQuestion=0;let score=0;let selectedAnswers=[];let quizQuestions=[];const startBtn=document.getElementById("start-btn");const quizBox=document.getElementById("quiz-box");const resultScreen=document.getElementById("result-screen");const questionText=document.getElementById("question-text");const optionsContainer=document.getElementById("options-container");const nextBtn=document.getElementById("next-btn");const submitBtn=document.getElementById("submit-btn");const scoreDisplay=document.getElementById("score");const timerDisplay=document.getElementById("time");let timer;let timeLeft=60;startBtn.addEventListener("click",startQuiz);nextBtn.addEventListener("click",nextQuestion);submitBtn.addEventListener("click",submitQuiz);function startQuiz(){document.getElementById("start-screen").classList.add("hidden");quizBox.classList.remove("hidden");quizQuestions=[...questions].sort(()=>0.5-Math.random()).slice(0,10);startTimer();showQuestion()}
function startTimer(){timer=setInterval(()=>{timeLeft--;timerDisplay.textContent=timeLeft;if(timeLeft<=0){clearInterval(timer);submitQuiz()}},1000)}
function showQuestion(){const q=quizQuestions[currentQuestion];questionText.textContent=`Q${currentQuestion + 1}: ${q.question}`;optionsContainer.innerHTML="";q.options.forEach(option=>{const btn=document.createElement("button");btn.textContent=option;btn.classList.add("option-button");btn.addEventListener("click",()=>selectOption(btn,option));optionsContainer.appendChild(btn)})}
function selectOption(button,option){const buttons=document.querySelectorAll(".option-button");buttons.forEach(btn=>btn.classList.remove("selected"));button.classList.add("selected");selectedAnswers[currentQuestion]=option}
function nextQuestion(){if(currentQuestion<quizQuestions.length-1){currentQuestion++;showQuestion();if(currentQuestion===quizQuestions.length-1){nextBtn.classList.add("hidden");submitBtn.classList.remove("hidden")}}}
function submitQuiz(){clearInterval(timer);quizBox.classList.add("hidden");resultScreen.classList.remove("hidden");score=0;quizQuestions.forEach((q,index)=>{const userAnswer=selectedAnswers[index];if(!userAnswer)return;if(userAnswer===q.answer)score+=4;else score-=1});scoreDisplay.textContent=`${score} / ${quizQuestions.length * 4}`}
